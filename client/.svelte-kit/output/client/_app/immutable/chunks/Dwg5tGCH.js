import{K as b,L as l,h as g,M as d,S as p,N as a,O as S,g as o,P as y,Q as M,s as N}from"./CTMsHKgE.js";import{s as O,g as T}from"./e1lkKKbt.js";function c(s,r){return s===r||(s==null?void 0:s[p])===r}function L(s={},r,i,u){return b(()=>{var n,f;return l(()=>{n=f,f=[],g(()=>{s!==i(...f)&&(r(s,...f),n&&c(i(...n),s)&&r(null,...n))})}),()=>{d(()=>{f&&c(i(...f),s)&&r(null,...f)})}}),s}let t=!1,e=Symbol();function U(s,r,i){const u=i[r]??(i[r]={store:null,source:S(void 0),unsubscribe:a});if(u.store!==s&&!(e in i))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=a;else{var n=!0;u.unsubscribe=O(s,f=>{n?u.source.v=f:N(u.source,f)}),n=!1}return s&&e in i?T(s):o(u.source)}function k(){const s={};function r(){y(()=>{for(var i in s)s[i].unsubscribe();M(s,e,{enumerable:!1,value:!0})})}return[s,r]}function q(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{k as a,L as b,q as c,U as s};
