import{c as Ie,a as I,f as O}from"../chunks/BWlUzU6r.js";import{i as ve}from"../chunks/C9Fig1eJ.js";import{y as j,I as ke,a1 as tt,w as De,D as at,C as rt,g as u,F as nt,H as it,G as Re,J as $e,z as _e,ab as ot,aC as st,an as Be,j as he,x as Ee,B as lt,aO as ut,aU as Ve,aA as Le,aV as dt,aa as He,aW as ct,aX as ft,m as ie,aY as ee,k as Xe,v as Je,aZ as Ae,a_ as vt,az as pt,l as mt,aw as gt,_ as bt,e as _t,t as ht,a$ as xt,b0 as yt,a0 as wt,p as pe,o as Pe,b1 as Tt,b2 as St,b3 as kt,U as Fe,a as me,b4 as se,u as C,c as p,f as h,s as te,h as g,b as Y,b5 as Dt,b6 as $t}from"../chunks/BeJc0bxu.js";import{s as G,e as N}from"../chunks/DM0wvYxp.js";import{i as ae}from"../chunks/CU3Qn1lb.js";import{s as ye,a as fe}from"../chunks/Csm1rvvQ.js";import{a as Me}from"../chunks/DHYUhdEs.js";import{g as qe}from"../chunks/4owTGBGw.js";import{s as xe,b as Ge,r as At,u as Et,a as Mt}from"../chunks/BrFXSTwU.js";import{b as Ut}from"../chunks/CdPlQW1U.js";import{w as It}from"../chunks/C-3GT7Q3.js";function Lt(e,o){return o}function Pt(e,o,t){for(var r=[],s=o.length,a,i=o.length,n=0;n<s;n++){let m=o[n];Je(m,()=>{if(a){if(a.pending.delete(m),a.done.add(m),a.pending.size===0){var w=e.outrogroups;Ue(Le(a.done)),w.delete(a),w.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var f=r.length===0&&t!==null;if(f){var l=t,b=l.parentNode;pt(b),b.append(l),e.items.clear()}Ue(o,!f)}else a={pending:new Set(o),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function Ue(e,o=!0){for(var t=0;t<e.length;t++)mt(e[t],o)}var ze;function We(e,o,t,r,s,a=null){var i=e,n=new Map;{var f=e;i=j?ke(tt(f)):f.appendChild(De())}j&&at();var l=null,b=ut(()=>{var v=t();return Ve(v)?v:v==null?[]:Le(v)}),m,w=!0;function M(){S.fallback=l,Ft(S,m,i,o,r),l!==null&&(m.length===0?(l.f&ee)===0?Xe(l):(l.f^=ee,de(l,null,i)):Je(l,()=>{l=null}))}var d=rt(()=>{m=u(b);var v=m.length;let c=!1;if(j){var _=nt(i)===it;_!==(v===0)&&(i=Re(),ke(i),$e(!1),c=!0)}for(var x=new Set,$=he,y=lt(),k=0;k<v;k+=1){j&&_e.nodeType===ot&&_e.data===st&&(i=_e,c=!0,$e(!1));var P=m[k],A=r(P,k),T=w?null:n.get(A);T?(T.v&&Be(T.v,P),T.i&&Be(T.i,k),y&&$.skipped_effects.delete(T.e)):(T=Nt(n,w?i:ze??(ze=De()),P,A,k,s,o,t),w||(T.e.f|=ee),n.set(A,T)),x.add(A)}if(v===0&&a&&!l&&(w?l=Ee(()=>a(i)):(l=Ee(()=>a(ze??(ze=De()))),l.f|=ee)),j&&v>0&&ke(Re()),!w)if(y){for(const[R,B]of n)x.has(R)||$.skipped_effects.add(B.e);$.oncommit(M),$.ondiscard(()=>{})}else M();c&&$e(!0),u(b)}),S={effect:d,items:n,outrogroups:null,fallback:l};w=!1,j&&(i=_e)}function ue(e){for(;e!==null&&(e.f&vt)===0;)e=e.next;return e}function Ft(e,o,t,r,s){var A;var a=o.length,i=e.items,n=ue(e.effect.first),f,l=null,b=[],m=[],w,M,d,S;for(S=0;S<a;S+=1){if(w=o[S],M=s(w,S),d=i.get(M).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(d),T.done.delete(d);if((d.f&ee)!==0)if(d.f^=ee,d===n)de(d,null,t);else{var v=l?l.next:n;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),Q(e,l,d),Q(e,d,v),de(d,v,t),l=d,b=[],m=[],n=ue(l.next);continue}if((d.f&Ae)!==0&&Xe(d),d!==n){if(f!==void 0&&f.has(d)){if(b.length<m.length){var c=m[0],_;l=c.prev;var x=b[0],$=b[b.length-1];for(_=0;_<b.length;_+=1)de(b[_],c,t);for(_=0;_<m.length;_+=1)f.delete(m[_]);Q(e,x.prev,$.next),Q(e,l,x),Q(e,$,c),n=c,l=$,S-=1,b=[],m=[]}else f.delete(d),de(d,n,t),Q(e,d.prev,d.next),Q(e,d,l===null?e.effect.first:l.next),Q(e,l,d),l=d;continue}for(b=[],m=[];n!==null&&n!==d;)(f??(f=new Set)).add(n),m.push(n),n=ue(n.next);if(n===null)continue}(d.f&ee)===0&&b.push(d),l=d,n=ue(d.next)}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(Ue(Le(T.done)),(A=e.outrogroups)==null||A.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||f!==void 0){var y=[];if(f!==void 0)for(d of f)(d.f&Ae)===0&&y.push(d);for(;n!==null;)(n.f&Ae)===0&&n!==e.fallback&&y.push(n),n=ue(n.next);var k=y.length;if(k>0){var P=a===0?t:null;Pt(e,y,P)}}}function Nt(e,o,t,r,s,a,i,n){var f=(i&ct)!==0?(i&ft)===0?ie(t,!1,!1):He(t):null,l=(i&dt)!==0?He(s):null;return{v:f,i:l,e:Ee(()=>(a(o,f??t,l??s,n),()=>{e.delete(r)}))}}function de(e,o,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,a=o&&(o.f&ee)===0?o.nodes.start:t;r!==null;){var i=gt(r);if(a.before(r),r===s)return;r=i}}function Q(e,o,t){o===null?e.effect.first=t:o.next=t,t===null?e.effect.last=o:t.prev=o}const je=[...` 	
\r\f¬†\v\uFEFF`];function Ot(e,o,t){var r=""+e;if(t){for(var s in t)if(t[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var n=i+a;(i===0||je.includes(r[i-1]))&&(n===r.length||je.includes(r[n]))?r=(i===0?"":r.substring(0,i))+r.substring(n+1):i=n}}return r===""?null:r}function Ct(e,o){return e==null?null:String(e)}function Rt(e,o,t,r,s,a){var i=e.__className;if(j||i!==t||i===void 0){var n=Ot(t,r,a);(!j||n!==e.getAttribute("class"))&&(n==null?e.removeAttribute("class"):e.className=n),e.__className=t}else if(a&&s!==a)for(var f in a){var l=!!a[f];(s==null||l!==!!s[f])&&e.classList.toggle(f,l)}return a}function Bt(e,o,t,r){var s=e.__style;if(j||s!==o){var a=Ct(o);(!j||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=o}return r}function Ye(e,o,t=!1){if(e.multiple){if(o==null)return;if(!Ve(o))return xt();for(var r of e.options)r.selected=o.includes(ce(r));return}for(r of e.options){var s=ce(r);if(yt(s,o)){r.selected=!0;return}}(!t||o!==void 0)&&(e.selectedIndex=-1)}function Ht(e){var o=new MutationObserver(()=>{Ye(e,e.__value)});o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ht(()=>{o.disconnect()})}function qt(e,o,t=o){var r=new WeakSet,s=!0;bt(e,"change",a=>{var i=a?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(i),ce);else{var f=e.querySelector(i)??e.querySelector("option:not([disabled])");n=f&&ce(f)}t(n),he!==null&&r.add(he)}),_t(()=>{var a=o();if(e===document.activeElement){var i=wt??he;if(r.has(i))return}if(Ye(e,a,s),s&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=ce(n),t(a))}e.__value=a,s=!1}),Ht(e)}function ce(e){return"__value"in e?e.__value:e.value}function Gt(){const{subscribe:e,set:o,update:t}=It({text:"",timingData:[],audioUrl:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,error:null});return{subscribe:e,setText:r=>t(s=>({...s,text:r})),setTimingData:r=>t(s=>({...s,timingData:r})),setAudioUrl:r=>t(s=>({...s,audioUrl:r})),setPlaying:r=>t(s=>({...s,isPlaying:r})),setLoading:r=>t(s=>({...s,isLoading:r})),setCurrentTime:r=>t(s=>({...s,currentTime:r})),setDuration:r=>t(s=>({...s,duration:r})),setError:r=>t(s=>({...s,error:r})),reset:()=>o({text:"",timingData:[],audioUrl:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,error:null})}}const D=Gt();var zt=O('<button class="btn btn-primary">‚è∏Ô∏è Pause</button>'),jt=O('<button class="btn btn-primary">‚ñ∂Ô∏è Play</button>'),Vt=O('<a download="tts-audio.mp3" class="btn btn-secondary w-full text-center block">‚¨áÔ∏è Download MP3</a>'),Xt=O('<div class="bg-white rounded-xl shadow-lg p-6 space-y-4 sticky bottom-0"><h3 class="text-lg font-semibold text-gray-900">Audio Player</h3> <audio preload="auto"></audio> <div class="space-y-2"><div class="relative h-2 bg-gray-200 rounded-full cursor-pointer" role="progressbar" tabindex="0" aria-valuemin="0"><div class="absolute h-full bg-primary-600 rounded-full"></div></div> <div class="flex justify-between text-sm text-gray-600"><span> </span> <span> </span></div></div> <div class="flex items-center justify-center gap-4"><button class="btn btn-secondary">‚è™ 10s</button> <!> <button class="btn btn-secondary">10s ‚è©</button></div> <!></div>');function Jt(e,o){pe(o,!1);const t=()=>fe(D,"$playerStore",r),[r,s]=ye();let a=ie(),i=-1;function n(){var c;(c=u(a))==null||c.play(),D.setPlaying(!0)}function f(){var c;(c=u(a))==null||c.pause(),D.setPlaying(!1)}function l(){if(!u(a))return;D.setCurrentTime(u(a).currentTime);const c=u(a).currentTime,_=t().timingData.findIndex(x=>c>=x.start&&c<x.end);if(_!==i&&(i=_,_>=0)){const x=document.getElementById(`segment-${_}`);x==null||x.scrollIntoView({behavior:"smooth",block:"center"})}}function b(){u(a)&&D.setDuration(u(a).duration)}function m(){D.setPlaying(!1)}function w(c){const _=Math.floor(c/60),x=Math.floor(c%60);return`${_}:${x.toString().padStart(2,"0")}`}function M(c){if(!u(a))return;const _=c.currentTarget.getBoundingClientRect(),x=(c.clientX-_.left)/_.width;se(a,u(a).currentTime=x*u(a).duration)}Pe(()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:"TTS Playback",artist:"Open Mobile TTS",album:"Generated Speech"}),navigator.mediaSession.setActionHandler("play",n),navigator.mediaSession.setActionHandler("pause",f),navigator.mediaSession.setActionHandler("seekbackward",()=>{u(a)&&se(a,u(a).currentTime=Math.max(u(a).currentTime-10,0))}),navigator.mediaSession.setActionHandler("seekforward",()=>{u(a)&&se(a,u(a).currentTime=Math.min(u(a).currentTime+10,u(a).duration))}))}),Tt(()=>{t().audioUrl&&URL.revokeObjectURL(t().audioUrl)}),St(()=>(u(a),t()),()=>{u(a)&&t().audioUrl&&se(a,u(a).src=t().audioUrl)}),kt(),ve();var d=Ie(),S=Fe(d);{var v=c=>{var _=Xt(),x=p(h(_),2);Ut(x,U=>te(a,U),()=>u(a));var $=p(x,2),y=h($),k=h(y);g(y);var P=p(y,2),A=h(P),T=h(A,!0);g(A);var R=p(A,2),B=h(R,!0);g(R),g(P),g($);var H=p($,2),K=h(H),Z=p(K,2);{var V=U=>{var F=zt();N("click",F,f),I(U,F)},le=U=>{var F=jt();Y(()=>F.disabled=(t(),C(()=>!t().audioUrl))),N("click",F,n),I(U,F)};ae(Z,U=>{t(),C(()=>t().isPlaying)?U(V):U(le,!1)})}var X=p(Z,2);g(H);var J=p(H,2);{var oe=U=>{var F=Vt();Y(()=>xe(F,"href",(t(),C(()=>t().audioUrl)))),I(U,F)};ae(J,U=>{t(),C(()=>t().audioUrl)&&U(oe)})}g(_),Y((U,F)=>{xe(y,"aria-valuenow",(t(),C(()=>t().currentTime))),xe(y,"aria-valuemax",(t(),C(()=>t().duration))),Bt(k,`width: ${t(),C(()=>t().currentTime/t().duration*100||0)??""}%`),G(T,U),G(B,F),K.disabled=(t(),C(()=>!t().audioUrl)),X.disabled=(t(),C(()=>!t().audioUrl))},[()=>(t(),C(()=>w(t().currentTime))),()=>(t(),C(()=>w(t().duration)))]),N("play",x,n),N("pause",x,f),N("timeupdate",x,l),N("loadedmetadata",x,b),N("ended",x,m),N("click",y,M),N("click",K,()=>{u(a)&&se(a,u(a).currentTime-=10)}),N("click",X,()=>{u(a)&&se(a,u(a).currentTime+=10)}),I(c,_)};ae(S,c=>{t(),C(()=>t().audioUrl)&&c(v)})}I(e,d),me(),s()}const Wt="openmobiletts",re="audioCache",Yt=1;function Ne(){return new Promise((e,o)=>{const t=indexedDB.open(Wt,Yt);t.onerror=()=>o(t.error),t.onsuccess=()=>e(t.result),t.onupgradeneeded=r=>{const s=r.target.result;if(!s.objectStoreNames.contains(re)){const a=s.createObjectStore(re,{keyPath:"id",autoIncrement:!0});a.createIndex("timestamp","timestamp",{unique:!1}),a.createIndex("text","text",{unique:!1})}}})}async function Kt(e,o,t,r,s){const a=await Ne(),i={text:e,audioBlob:o,timingData:t,voice:r,speed:s,timestamp:Date.now()};return new Promise((n,f)=>{const m=a.transaction([re],"readwrite").objectStore(re).add(i);m.onsuccess=()=>n(m.result),m.onerror=()=>f(m.error)})}async function Zt(){const e=await Ne();return new Promise((o,t)=>{const a=e.transaction([re],"readonly").objectStore(re).getAll();a.onsuccess=()=>{const i=a.result||[];i.sort((n,f)=>f.timestamp-n.timestamp),o(i)},a.onerror=()=>t(a.error)})}async function Qt(e){const o=await Ne();return new Promise((t,r)=>{const i=o.transaction([re],"readwrite").objectStore(re).delete(e);i.onsuccess=()=>t(),i.onerror=()=>r(i.error)})}var ea=O('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"> </div>'),ta=O(`<div class="bg-white rounded-xl shadow-lg p-6 space-y-6"><h2 class="text-xl font-semibold text-gray-900">Generate Speech</h2> <div><label for="text" class="block text-sm font-medium text-gray-700 mb-2">Enter Text or Upload Document</label> <textarea id="text" rows="6" class="input resize-none" placeholder="Type or paste text here..."></textarea></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Upload Document (PDF, DOCX, TXT)</label> <input type="file" accept=".pdf,.docx,.txt" class="block w-full text-sm text-gray-500
				file:mr-4 file:py-2 file:px-4
				file:rounded-lg file:border-0
				file:text-sm file:font-semibold
				file:bg-primary-50 file:text-primary-700
				hover:file:bg-primary-100
				file:cursor-pointer cursor-pointer"/></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="voice" class="block text-sm font-medium text-gray-700 mb-2">Voice</label> <select id="voice" class="input"><option>Female (Heart)</option><option>Female (Nova)</option><option>Female (Sky)</option><option>Female (Bella)</option><option>Female (Sarah)</option><option>Male (Adam)</option><option>Male (Michael)</option><option>British Female (Emma)</option><option>British Female (Isabella)</option><option>British Male (George)</option><option>British Male (Lewis)</option></select></div> <div><label for="speed" class="block text-sm font-medium text-gray-700 mb-2"> </label> <input id="speed" type="range" min="0.5" max="2.0" step="0.1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"/></div></div> <button class="btn btn-primary w-full"> </button> <!></div>`);function aa(e,o){pe(o,!1);const t=()=>fe(Me,"$authStore",s),r=()=>fe(D,"$playerStore",s),[s,a]=ye();let i=ie(""),n=ie("af_heart"),f=ie(1);async function l(){if(!u(i).trim()){D.setError("Please enter some text");return}D.setLoading(!0),D.setError(null),D.setText(u(i));try{const z=(await Mt(u(i),u(n),u(f),t().token)).body.getReader(),q=[],W=[];let L=new Uint8Array(0);for(;;){const{done:ge,value:Ce}=await z.read();if(ge)break;const we=new Uint8Array(L.length+Ce.length);for(we.set(L),we.set(Ce,L.length),L=we;;){const Te=new TextDecoder().decode(L),ne=Te.indexOf("TIMING:");if(ne===-1)break;const be=Te.slice(ne),Se=be.indexOf(`
`);if(Se===-1)break;const Ze=be.slice(0,Se).slice(7),Qe=JSON.parse(Ze);W.push(Qe);const et=ne+Se+1;L=L.slice(et)}if(L.length>0&&!new TextDecoder().decode(L.slice(0,7)).startsWith("TIMING:")){const ne=new TextDecoder().decode(L).indexOf("TIMING:");if(ne>0){const be=L.slice(0,ne);q.push(be),L=L.slice(ne)}else ge&&(q.push(L),L=new Uint8Array(0))}}L.length>0&&q.push(L);const Oe=new Blob(q,{type:"audio/mpeg"}),Ke=URL.createObjectURL(Oe);D.setAudioUrl(Ke),D.setTimingData(W);try{await Kt(u(i),Oe,W,u(n),u(f))}catch(ge){console.error("Failed to cache audio:",ge)}}catch(E){D.setError(E.message||"Failed to generate speech")}finally{D.setLoading(!1)}}async function b(E){var q;const z=(q=E.target.files)==null?void 0:q[0];if(z){D.setLoading(!0),D.setError(null);try{const W=await Et(z,t().token);te(i,W.text)}catch(W){D.setError(W.message||"Failed to upload document")}finally{D.setLoading(!1)}}}ve();var m=ta(),w=p(h(m),2),M=p(h(w),2);Dt(M),g(w);var d=p(w,2),S=p(h(d),2);g(d);var v=p(d,2),c=h(v),_=p(h(c),2);Y(()=>{u(n),$t(()=>{})});var x=h(_);x.value=x.__value="af_heart";var $=p(x);$.value=$.__value="af_nova";var y=p($);y.value=y.__value="af_sky";var k=p(y);k.value=k.__value="af_bella";var P=p(k);P.value=P.__value="af_sarah";var A=p(P);A.value=A.__value="am_adam";var T=p(A);T.value=T.__value="am_michael";var R=p(T);R.value=R.__value="bf_emma";var B=p(R);B.value=B.__value="bf_isabella";var H=p(B);H.value=H.__value="bm_george";var K=p(H);K.value=K.__value="bm_lewis",g(_),g(c);var Z=p(c,2),V=h(Z),le=h(V);g(V);var X=p(V,2);At(X),g(Z),g(v);var J=p(v,2),oe=h(J,!0);g(J);var U=p(J,2);{var F=E=>{var z=ea(),q=h(z,!0);g(z),Y(()=>G(q,r().error)),I(E,z)};ae(U,E=>{r().error&&E(F)})}g(m),Y(E=>{G(le,`Speed: ${u(f)??""}x`),J.disabled=E,G(oe,r().isLoading?"Generating...":"Generate Speech")},[()=>r().isLoading||!u(i).trim()]),Ge(M,()=>u(i),E=>te(i,E)),N("change",S,b),qt(_,()=>u(n),E=>te(n,E)),Ge(X,()=>u(f),E=>te(f,E)),N("click",J,l),I(e,m),me(),a()}var ra=O("<span> </span>"),na=O('<div class="bg-white rounded-xl shadow-lg p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Text (Synchronized)</h3> <div class="prose max-w-none"></div></div>');function ia(e,o){pe(o,!1);const t=()=>fe(D,"$playerStore",r),[r,s]=ye();function a(l,b){return b>=l.start&&b<l.end}ve();var i=Ie(),n=Fe(i);{var f=l=>{var b=na(),m=p(h(b),2);We(m,5,()=>t().timingData,Lt,(w,M,d)=>{var S=ra();xe(S,"id",`segment-${d}`);let v;var c=h(S);g(S),Y(_=>{v=Rt(S,1,"text-segment",null,v,_),G(c,`${u(M).text??""} `)},[()=>({highlighted:a(u(M),t().currentTime)})]),I(w,S)}),g(m),g(b),I(l,b)};ae(n,l=>{t().text&&t().timingData.length>0&&l(f)})}I(e,i),me(),s()}var oa=O('<div class="text-center py-8 text-gray-500">Loading history...</div>'),sa=O('<div class="text-center py-8 text-gray-500">No saved audio yet. Generate some speech to see it here!</div>'),la=O('<div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors"><div class="flex items-start justify-between gap-3"><div class="flex-1 min-w-0"><p class="text-sm text-gray-900 mb-1"> </p> <div class="flex items-center gap-3 text-xs text-gray-500"><span> </span> <span>‚Ä¢</span> <span> </span> <span>‚Ä¢</span> <span> </span></div></div> <div class="flex gap-2"><button class="px-3 py-1 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700">‚ñ∂Ô∏è Play</button> <button class="px-3 py-1 bg-red-50 text-red-600 text-sm rounded-lg hover:bg-red-100">üóëÔ∏è</button></div></div></div>'),ua=O('<div class="space-y-3 max-h-96 overflow-y-auto"></div>'),da=O('<div class="bg-white rounded-xl shadow-lg p-6 space-y-4"><div class="flex justify-between items-center"><h3 class="text-lg font-semibold text-gray-900">History</h3> <button class="text-sm text-primary-600 hover:text-primary-700"> </button></div> <!></div>');function ca(e,o){pe(o,!1);let t=ie([]),r=ie(!1);Pe(async()=>{await s()});async function s(){te(r,!0);try{te(t,await Zt())}catch(v){console.error("Failed to load history:",v)}finally{te(r,!1)}}async function a(v){const c=URL.createObjectURL(v.audioBlob);D.setAudioUrl(c),D.setTimingData(v.timingData),D.setText(v.text)}async function i(v){if(confirm("Delete this audio?"))try{await Qt(v),await s()}catch(c){console.error("Failed to delete:",c)}}function n(v){const c=new Date(v),x=new Date-c,$=Math.floor(x/6e4),y=Math.floor(x/36e5),k=Math.floor(x/864e5);return $<1?"Just now":$<60?`${$}m ago`:y<24?`${y}h ago`:k<7?`${k}d ago`:c.toLocaleDateString()}function f(v,c=60){return v.length<=c?v:v.slice(0,c)+"..."}ve();var l=da(),b=h(l),m=p(h(b),2),w=h(m,!0);g(m),g(b);var M=p(b,2);{var d=v=>{var c=oa();I(v,c)},S=v=>{var c=Ie(),_=Fe(c);{var x=y=>{var k=sa();I(y,k)},$=y=>{var k=ua();We(k,5,()=>u(t),P=>P.id,(P,A)=>{var T=la(),R=h(T),B=h(R),H=h(B),K=h(H,!0);g(H);var Z=p(H,2),V=h(Z),le=h(V,!0);g(V);var X=p(V,4),J=h(X,!0);g(X);var oe=p(X,4),U=h(oe);g(oe),g(Z),g(B);var F=p(B,2),E=h(F),z=p(E,2);g(F),g(R),g(T),Y((q,W)=>{G(K,q),G(le,W),G(J,u(A).voice),G(U,`${u(A).speed??""}x`)},[()=>f(u(A).text),()=>n(u(A).timestamp)]),N("click",E,()=>a(u(A))),N("click",z,()=>i(u(A).id)),I(P,T)}),g(k),I(y,k)};ae(_,y=>{u(t).length===0?y(x):y($,!1)},!0)}I(v,c)};ae(M,v=>{u(r)?v(d):v(S,!1)})}g(l),Y(()=>{m.disabled=u(r),G(w,u(r)?"Loading...":"üîÑ Refresh")}),N("click",m,s),I(e,l),me()}var fa=O(`<div class="bg-yellow-50 border-t border-yellow-200 p-4"><p class="text-sm text-yellow-800 text-center">üì± iOS Limitation: Audio will stop when app is minimized or screen locks.
				Keep app in foreground during playback.</p></div>`),va=O('<div class="min-h-screen flex flex-col"><header class="bg-white shadow-sm border-b border-gray-200"><div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center"><h1 class="text-2xl font-bold text-primary-600">Open Mobile TTS</h1> <button class="btn btn-secondary text-sm">Logout</button></div></header> <main class="flex-1 max-w-7xl mx-auto w-full px-4 py-6 space-y-6"><!> <!> <!> <!></main> <!></div>');function Da(e,o){pe(o,!1);const t=()=>fe(Me,"$authStore",r),[r,s]=ye();Pe(()=>{t().isAuthenticated||qe("/login")});function a(){Me.clearToken(),qe("/login")}ve();var i=va(),n=h(i),f=h(n),l=p(h(f),2);g(f),g(n);var b=p(n,2),m=h(b);aa(m,{});var w=p(m,2);ia(w,{});var M=p(w,2);Jt(M,{});var d=p(M,2);ca(d,{}),g(b);var S=p(b,2);{var v=c=>{var _=fa();I(c,_)};ae(S,c=>{/iPhone|iPad|iPod/.test(navigator.userAgent)&&c(v)})}g(i),N("click",l,a),I(e,i),me(),s()}export{Da as component};
