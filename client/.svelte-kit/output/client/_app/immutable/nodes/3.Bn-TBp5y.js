import{a as c,f as v}from"../chunks/a1OpiWwP.js";import{p as A,t as E,g as a,a as B,c as s,s as i,r,n as k,b as l,d as p,f as F}from"../chunks/_ZM0HBor.js";import{e as G,s as H}from"../chunks/_fpMHx7C.js";import{i as P}from"../chunks/CevPxRnU.js";import{M as J,b as I,r as M,s as K,a as Q,L as V}from"../chunks/BYo57_nO.js";import{g as W}from"../chunks/DEeGOvap.js";var X=v('<div class="bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-xl text-sm"> </div>'),Y=v("<!> <span>Signing in...</span>",1),Z=v("<span>Sign In</span>"),$=v('<div class="min-h-screen flex items-center justify-center px-4 bg-[#0a0c10]"><div class="w-full max-w-md"><div class="bg-slate-900/60 border border-white/10 rounded-2xl shadow-2xl p-8"><div class="text-center mb-8"><div class="w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-600/20"><!></div> <h1 class="text-2xl font-bold bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent mb-2">Open Mobile TTS</h1> <p class="text-slate-500 text-sm">Sign in to your local instance</p></div> <form class="space-y-5"><!> <div class="space-y-2"><label for="username" class="block text-xs font-bold text-slate-500 uppercase tracking-widest">Username</label> <input id="username" type="text" required class="input" placeholder="Enter username"/></div> <div class="space-y-2"><label for="password" class="block text-xs font-bold text-slate-500 uppercase tracking-widest">Password</label> <input id="password" type="password" required class="input" placeholder="Enter password"/></div> <button type="submit"><!></button></form></div> <p class="text-center text-[10px] text-slate-600 mt-6 uppercase tracking-widest">Private Local Instance</p></div></div>');function ie(q,z){A(z,!0);let u=p(""),m=p(""),n=p(""),o=p(!1);async function O(){l(n,""),l(o,!0);try{const e=await fetch("http://localhost:8000/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:a(u),password:a(m)})});if(!e.ok)throw new Error("Invalid username or password");const t=await e.json();if(t.access_token)Q.setToken(t.access_token),W("/player");else throw new Error("No access token received")}catch(e){l(n,e.message||"Login failed",!0)}finally{l(o,!1)}}var b=$(),S=s(b),L=s(S),f=s(L),T=s(f),U=s(T);J(U,{size:28,class:"text-white"}),r(T),k(4),r(f);var x=i(f,2),j=s(x);{var C=e=>{var t=X(),y=s(t,!0);r(t),E(()=>H(y,a(n))),c(e,t)};P(j,e=>{a(n)&&e(C)})}var w=i(j,2),g=i(s(w),2);M(g),r(w);var h=i(w,2),_=i(s(h),2);M(_),r(h);var d=i(h,2),D=s(d);{var N=e=>{var t=Y(),y=F(t);V(y,{size:20,class:"animate-spin"}),k(2),c(e,t)},R=e=>{var t=Z();c(e,t)};P(D,e=>{a(o)?e(N):e(R,!1)})}r(d),r(x),r(L),k(2),r(S),r(b),E(()=>{g.disabled=a(o),_.disabled=a(o),d.disabled=a(o),K(d,1,`w-full py-4 rounded-2xl font-bold text-base transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98] ${a(o)?"bg-slate-800 text-slate-500":"bg-blue-600 shadow-lg shadow-blue-600/20 text-white hover:bg-blue-500"}`)}),G("submit",x,e=>{e.preventDefault(),O()}),I(g,()=>a(u),e=>l(u,e)),I(_,()=>a(m),e=>l(m,e)),c(q,b),B()}export{ie as component};
